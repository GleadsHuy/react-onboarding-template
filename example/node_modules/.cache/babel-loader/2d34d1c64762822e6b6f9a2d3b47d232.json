{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\huynguyen\\\\Documents\\\\react-onboarding-template\\\\react-onboarding-template\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport FatfScreen from 'components/Templates/onboarding/register/FatfScreen';\nimport RegisterScreen from 'components/Templates/onboarding/register/RegisterScreen';\nimport data from '.data.json';\nfunction Register(_ref) {\n  var onReceiveData = _ref.onReceiveData;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    fatfScreen = _useState2[0],\n    setFatfScreen = _useState2[1];\n  var router = useRouter();\n  var receiveData = function receiveData() {\n    setFatfScreen(false);\n    onReceiveData(false);\n    localStorage.setItem('setExpirationDateObd', new Date().getTime());\n  };\n  useEffect(function () {\n    var hours = 24;\n    var now = new Date().getTime();\n    var expirationDateObd = localStorage.getItem('setExpirationDateObd');\n    if (expirationDateObd !== null && now - expirationDateObd < hours * 60 * 60 * 1000) {\n      setFatfScreen(false);\n      onReceiveData(false);\n    } else {\n      localStorage.removeItem('setExpirationDateObd');\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(Fragment, null, fatfScreen ? /*#__PURE__*/React.createElement(FatfScreen, {\n    onReceiveData: receiveData\n  }) : /*#__PURE__*/React.createElement(RegisterScreen, {\n    trustpilot: data.trust_pilot\n  }));\n}\nvar ExampleComponent = function ExampleComponent() {\n  return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Register, null));\n};\nexport { ExampleComponent };","map":{"version":3,"sources":["../src/components/register/index.js","../src/index.js"],"names":["Register","onReceiveData","fatfScreen","setFatfScreen","useState","router","useRouter","receiveData","localStorage","setItem","Date","getTime","useEffect","hours","now","expirationDateObd","getItem","removeItem","data","trust_pilot","ExampleComponent"],"mappings":";;;;;;AAMe,SAASA,QAAQ,OAAoB;EAAA,IAAjBC,aAAAA,QAAAA,aAAAA;EACjC,gBAAoCG,QAAQ,CAAC,IAAI,CAAC;IAAA;IAA3CF,UAAU;IAAEC,aAAa;EAEhC,IAAME,MAAM,GAAGC,SAAS,EAAE;EAE1B,IAAMC,WAAW,GAAG,SAAdA,WAAW,GAAS;IACxBJ,aAAa,CAAC,KAAK,CAAC;IACpBF,aAAa,CAAC,KAAK,CAAC;IACpBO,YAAY,CAACC,OAAO,CAAC,sBAAsB,EAAE,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,CAAC;GACnE;EAgDDC,SAAS,CAAC,YAAM;IACd,IAAIC,KAAK,GAAG,EAAE;IACd,IAAIC,GAAG,GAAG,IAAIJ,IAAI,EAAE,CAACC,OAAO,EAAE;IAC9B,IAAII,iBAAiB,GAAGP,YAAY,CAACQ,OAAO,CAAC,sBAAsB,CAAC;IACpE,IACED,iBAAiB,KAAK,IAAI,IAC1BD,GAAG,GAAGC,iBAAiB,GAAGF,KAAK,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAChD;MACAV,aAAa,CAAC,KAAK,CAAC;MACpBF,aAAa,CAAC,KAAK,CAAC;KACrB,MAAM;MACLO,YAAY,CAACS,UAAU,CAAC,sBAAsB,CAAC;;GAElD,EAAE,EAAE,CAAC;EAEN,OAAA,aACE,KAAA,CAAA,aAAA,CAAA,QAAA,EAAA,IAAA,EACGf,UAAU,GAAA,aACT,KAAA,CAAA,aAAA,CAAC,UAAU,EAAA;IAAC,aAAa,EAAEK;IAAe,GAAA,aAE1C,KAAA,CAAA,aAAA,CAAC,cAAc,EAAA;IACb,UAAU,EAAEW,IAAI,CAACC;IAGpB,CACA;AAEP;ICtFaC,gBAAgB,GAAG,SAAnBA,gBAAgB,GAAS;EACpC,OAAA,aACE,KAAA,CAAA,aAAA,CAAA,KAAA,EAAA,IAAA,EAAA,aACE,KAAA,CAAA,aAAA,CAAC,QAAQ,EAAA,IAAA,CAAG,CACR;AAEV,CAAC","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useRouter } from 'next/router'\r\nimport FatfScreen from 'components/Templates/onboarding/register/FatfScreen'\r\nimport RegisterScreen from 'components/Templates/onboarding/register/RegisterScreen'\r\nimport data from '.data.json'\r\n\r\nexport default function Register({ onReceiveData }) {\r\n  const [fatfScreen, setFatfScreen] = useState(true)\r\n  // const [isTypeChristmas, setIsTypeChristmas] = useState(false);\r\n  const router = useRouter()\r\n\r\n  const receiveData = () => {\r\n    setFatfScreen(false)\r\n    onReceiveData(false)\r\n    localStorage.setItem('setExpirationDateObd', new Date().getTime())\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   async function putVoucher() {\r\n  //     fetch(\r\n  //       `${process.env.NEXT_PUBLIC_ORDER_API_ENDPOINT}/api/portal/campaign/christmas_2022/voucher`,\r\n  //       {\r\n  //         method: \"PUT\",\r\n  //         headers: {\r\n  //           \"Content-Type\": \"application/json\",\r\n  //         },\r\n  //         body: JSON.stringify({\r\n  //           voucher_code: router.query?.promotion_code,\r\n  //         }),\r\n  //       }\r\n  //     )\r\n  //       .then((res) => res.text())\r\n  //       .catch((err) => {\r\n  //         console.error(err);\r\n  //       });\r\n  //   }\r\n\r\n  //   if (\r\n  //     router.query?.type &&\r\n  //     router.query?.promotion_code &&\r\n  //     router.query?.date\r\n  //   ) {\r\n  //     const TYPES_CHRISTMAS = [\r\n  //       \"c7ed0955-46a4-43aa-890c-402b4c0b2587\",\r\n  //       \"2a4b5adb-b412-4e28-ae5c-9ba5712cc042\",\r\n  //       \"4f29111e-a01c-40fe-ae17-1fa4d5b0b9b4\",\r\n  //       \"8e63fca8-1670-4179-b1f5-0c04e5be8dba\",\r\n  //     ];\r\n  //     if (TYPES_CHRISTMAS.includes(router.query?.type)) {\r\n  //       setIsTypeChristmas(true);\r\n  //       localStorage.setItem(\r\n  //         \"type-christmas\",\r\n  //         router.asPath.split(router.pathname)[1]\r\n  //       );\r\n  //       putVoucher();\r\n  //     }\r\n  //   } else {\r\n  //     if (localStorage.getItem(\"type-christmas\")) {\r\n  //       localStorage.removeItem(\"type-christmas\");\r\n  //     }\r\n  //   }\r\n  // }, [router.query]);\r\n\r\n  useEffect(() => {\r\n    let hours = 24\r\n    let now = new Date().getTime()\r\n    let expirationDateObd = localStorage.getItem('setExpirationDateObd')\r\n    if (\r\n      expirationDateObd !== null &&\r\n      now - expirationDateObd < hours * 60 * 60 * 1000\r\n    ) {\r\n      setFatfScreen(false)\r\n      onReceiveData(false)\r\n    } else {\r\n      localStorage.removeItem('setExpirationDateObd')\r\n    }\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      {fatfScreen ? (\r\n        <FatfScreen onReceiveData={receiveData} />\r\n      ) : (\r\n        <RegisterScreen\r\n          trustpilot={data.trust_pilot}\r\n          // isTypeChristmas={isTypeChristmas}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\nimport styles from './styles.module.css'\nimport Register from './components/register'\n\nexport const ExampleComponent = () => {\n  return (\n    <div>\n      <Register />\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}