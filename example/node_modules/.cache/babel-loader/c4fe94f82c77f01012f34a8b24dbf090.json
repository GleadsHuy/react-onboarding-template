{"ast":null,"code":"import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { usePopper } from 'react-popper';\nfunction useGetLatest(val) {\n  var ref = React.useRef(val);\n  ref.current = val;\n  return React.useCallback(function () {\n    return ref.current;\n  }, []);\n}\nvar noop = function noop() {// do nothing\n};\nfunction useControlledState(_ref) {\n  var initial = _ref.initial,\n    value = _ref.value,\n    _ref$onChange = _ref.onChange,\n    onChange = _ref$onChange === void 0 ? noop : _ref$onChange;\n  if (initial === undefined && value === undefined) {\n    throw new TypeError('Either \"value\" or \"initial\" variable must be set. Now both are undefined');\n  }\n  var _React$useState = React.useState(initial),\n    state = _React$useState[0],\n    setState = _React$useState[1];\n  var getLatest = useGetLatest(state);\n  var set = React.useCallback(function (updater) {\n    var state = getLatest();\n    var updatedState = typeof updater === 'function' ? updater(state) : updater;\n    if (typeof updatedState.persist === 'function') updatedState.persist();\n    setState(updatedState);\n    if (typeof onChange === 'function') onChange(updatedState);\n  }, [getLatest, onChange]);\n  var isControlled = value !== undefined;\n  return [isControlled ? value : state, isControlled ? onChange : set];\n}\nfunction generateBoundingClientRect(x, y) {\n  if (x === void 0) {\n    x = 0;\n  }\n  if (y === void 0) {\n    y = 0;\n  }\n  return function () {\n    return {\n      width: 0,\n      height: 0,\n      top: y,\n      right: x,\n      bottom: y,\n      left: x,\n      x: 0,\n      y: 0,\n      toJSON: function toJSON() {\n        return null;\n      }\n    };\n  };\n}\nvar _excluded = [\"styles\", \"attributes\"];\nvar virtualElement = {\n  getBoundingClientRect: generateBoundingClientRect()\n};\nvar defaultConfig = {\n  closeOnOutsideClick: true,\n  closeOnTriggerHidden: false,\n  defaultVisible: false,\n  delayHide: 0,\n  delayShow: 0,\n  followCursor: false,\n  interactive: false,\n  mutationObserverOptions: {\n    attributes: true,\n    childList: true,\n    subtree: true\n  },\n  offset: [0, 6],\n  trigger: 'hover'\n};\nfunction usePopperTooltip(config, popperOptions) {\n  var _popperProps$state, _popperProps$state$mo, _popperProps$state$mo2;\n  if (config === void 0) {\n    config = {};\n  }\n  if (popperOptions === void 0) {\n    popperOptions = {};\n  }\n\n  // Merging options with default options.\n  // Keys with undefined values are replaced with the default ones if any.\n  // Keys with other values pass through.\n  var finalConfig = Object.keys(defaultConfig).reduce(function (config, key) {\n    var _extends2;\n    return _extends({}, config, (_extends2 = {}, _extends2[key] = config[key] !== undefined ? config[key] : defaultConfig[key], _extends2));\n  }, config);\n  var defaultModifiers = React.useMemo(function () {\n    return [{\n      name: 'offset',\n      options: {\n        offset: finalConfig.offset\n      }\n    }];\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  Array.isArray(finalConfig.offset) ? finalConfig.offset : []);\n  var finalPopperOptions = _extends({}, popperOptions, {\n    placement: popperOptions.placement || finalConfig.placement,\n    modifiers: popperOptions.modifiers || defaultModifiers\n  });\n  var _React$useState = React.useState(null),\n    triggerRef = _React$useState[0],\n    setTriggerRef = _React$useState[1];\n  var _React$useState2 = React.useState(null),\n    tooltipRef = _React$useState2[0],\n    setTooltipRef = _React$useState2[1];\n  var _useControlledState = useControlledState({\n      initial: finalConfig.defaultVisible,\n      value: finalConfig.visible,\n      onChange: finalConfig.onVisibleChange\n    }),\n    visible = _useControlledState[0],\n    setVisible = _useControlledState[1];\n  var timer = React.useRef();\n  React.useEffect(function () {\n    return function () {\n      return clearTimeout(timer.current);\n    };\n  }, []);\n  var _usePopper = usePopper(finalConfig.followCursor ? virtualElement : triggerRef, tooltipRef, finalPopperOptions),\n    styles = _usePopper.styles,\n    attributes = _usePopper.attributes,\n    popperProps = _objectWithoutPropertiesLoose(_usePopper, _excluded);\n  var update = popperProps.update;\n  var getLatest = useGetLatest({\n    visible: visible,\n    triggerRef: triggerRef,\n    tooltipRef: tooltipRef,\n    finalConfig: finalConfig\n  });\n  var isTriggeredBy = React.useCallback(function (trigger) {\n    return Array.isArray(finalConfig.trigger) ? finalConfig.trigger.includes(trigger) : finalConfig.trigger === trigger;\n  },\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  Array.isArray(finalConfig.trigger) ? finalConfig.trigger : [finalConfig.trigger]);\n  var hideTooltip = React.useCallback(function () {\n    clearTimeout(timer.current);\n    timer.current = window.setTimeout(function () {\n      return setVisible(false);\n    }, finalConfig.delayHide);\n  }, [finalConfig.delayHide, setVisible]);\n  var showTooltip = React.useCallback(function () {\n    clearTimeout(timer.current);\n    timer.current = window.setTimeout(function () {\n      return setVisible(true);\n    }, finalConfig.delayShow);\n  }, [finalConfig.delayShow, setVisible]);\n  var toggleTooltip = React.useCallback(function () {\n    if (getLatest().visible) {\n      hideTooltip();\n    } else {\n      showTooltip();\n    }\n  }, [getLatest, hideTooltip, showTooltip]); // Handle click outside\n\n  React.useEffect(function () {\n    if (!getLatest().finalConfig.closeOnOutsideClick) return;\n    var handleClickOutside = function handleClickOutside(event) {\n      var _event$composedPath;\n      var _getLatest = getLatest(),\n        tooltipRef = _getLatest.tooltipRef,\n        triggerRef = _getLatest.triggerRef;\n      var target = (event.composedPath == null ? void 0 : (_event$composedPath = event.composedPath()) == null ? void 0 : _event$composedPath[0]) || event.target;\n      if (target instanceof Node) {\n        if (tooltipRef != null && triggerRef != null && !tooltipRef.contains(target) && !triggerRef.contains(target)) {\n          hideTooltip();\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return function () {\n      return document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [getLatest, hideTooltip]); // Trigger: click\n\n  React.useEffect(function () {\n    if (triggerRef == null || !isTriggeredBy('click')) return;\n    triggerRef.addEventListener('click', toggleTooltip);\n    return function () {\n      return triggerRef.removeEventListener('click', toggleTooltip);\n    };\n  }, [triggerRef, isTriggeredBy, toggleTooltip]); // Trigger: double-click\n\n  React.useEffect(function () {\n    if (triggerRef == null || !isTriggeredBy('double-click')) return;\n    triggerRef.addEventListener('dblclick', toggleTooltip);\n    return function () {\n      return triggerRef.removeEventListener('dblclick', toggleTooltip);\n    };\n  }, [triggerRef, isTriggeredBy, toggleTooltip]); // Trigger: right-click\n\n  React.useEffect(function () {\n    if (triggerRef == null || !isTriggeredBy('right-click')) return;\n    var preventDefaultAndToggle = function preventDefaultAndToggle(event) {\n      // Don't show the context menu\n      event.preventDefault();\n      toggleTooltip();\n    };\n    triggerRef.addEventListener('contextmenu', preventDefaultAndToggle);\n    return function () {\n      return triggerRef.removeEventListener('contextmenu', preventDefaultAndToggle);\n    };\n  }, [triggerRef, isTriggeredBy, toggleTooltip]); // Trigger: focus\n\n  React.useEffect(function () {\n    if (triggerRef == null || !isTriggeredBy('focus')) return;\n    triggerRef.addEventListener('focus', showTooltip);\n    triggerRef.addEventListener('blur', hideTooltip);\n    return function () {\n      triggerRef.removeEventListener('focus', showTooltip);\n      triggerRef.removeEventListener('blur', hideTooltip);\n    };\n  }, [triggerRef, isTriggeredBy, showTooltip, hideTooltip]); // Trigger: hover on trigger\n\n  React.useEffect(function () {\n    if (triggerRef == null || !isTriggeredBy('hover')) return;\n    triggerRef.addEventListener('mouseenter', showTooltip);\n    triggerRef.addEventListener('mouseleave', hideTooltip);\n    return function () {\n      triggerRef.removeEventListener('mouseenter', showTooltip);\n      triggerRef.removeEventListener('mouseleave', hideTooltip);\n    };\n  }, [triggerRef, isTriggeredBy, showTooltip, hideTooltip]); // Trigger: hover on tooltip, keep it open if hovered\n\n  React.useEffect(function () {\n    if (tooltipRef == null || !isTriggeredBy('hover') || !getLatest().finalConfig.interactive) return;\n    tooltipRef.addEventListener('mouseenter', showTooltip);\n    tooltipRef.addEventListener('mouseleave', hideTooltip);\n    return function () {\n      tooltipRef.removeEventListener('mouseenter', showTooltip);\n      tooltipRef.removeEventListener('mouseleave', hideTooltip);\n    };\n  }, [tooltipRef, isTriggeredBy, showTooltip, hideTooltip, getLatest]); // Handle closing tooltip if trigger hidden\n\n  var isReferenceHidden = popperProps == null ? void 0 : (_popperProps$state = popperProps.state) == null ? void 0 : (_popperProps$state$mo = _popperProps$state.modifiersData) == null ? void 0 : (_popperProps$state$mo2 = _popperProps$state$mo.hide) == null ? void 0 : _popperProps$state$mo2.isReferenceHidden;\n  React.useEffect(function () {\n    if (finalConfig.closeOnTriggerHidden && isReferenceHidden) hideTooltip();\n  }, [finalConfig.closeOnTriggerHidden, hideTooltip, isReferenceHidden]); // Handle follow cursor\n\n  React.useEffect(function () {\n    if (!finalConfig.followCursor || triggerRef == null) return;\n    function setMousePosition(_ref) {\n      var clientX = _ref.clientX,\n        clientY = _ref.clientY;\n      virtualElement.getBoundingClientRect = generateBoundingClientRect(clientX, clientY);\n      update == null ? void 0 : update();\n    }\n    triggerRef.addEventListener('mousemove', setMousePosition);\n    return function () {\n      return triggerRef.removeEventListener('mousemove', setMousePosition);\n    };\n  }, [finalConfig.followCursor, triggerRef, update]); // Handle tooltip DOM mutation changes (aka mutation observer)\n\n  React.useEffect(function () {\n    if (tooltipRef == null || update == null || finalConfig.mutationObserverOptions == null) return;\n    var observer = new MutationObserver(update);\n    observer.observe(tooltipRef, finalConfig.mutationObserverOptions);\n    return function () {\n      return observer.disconnect();\n    };\n  }, [finalConfig.mutationObserverOptions, tooltipRef, update]); // Tooltip props getter\n\n  var getTooltipProps = function getTooltipProps(args) {\n    if (args === void 0) {\n      args = {};\n    }\n    return _extends({}, args, {\n      style: _extends({}, args.style, styles.popper)\n    }, attributes.popper, {\n      'data-popper-interactive': finalConfig.interactive\n    });\n  }; // Arrow props getter\n\n  var getArrowProps = function getArrowProps(args) {\n    if (args === void 0) {\n      args = {};\n    }\n    return _extends({}, args, attributes.arrow, {\n      style: _extends({}, args.style, styles.arrow),\n      'data-popper-arrow': true\n    });\n  };\n  return _extends({\n    getArrowProps: getArrowProps,\n    getTooltipProps: getTooltipProps,\n    setTooltipRef: setTooltipRef,\n    setTriggerRef: setTriggerRef,\n    tooltipRef: tooltipRef,\n    triggerRef: triggerRef,\n    visible: visible\n  }, popperProps);\n}\nexport { usePopperTooltip };","map":{"version":3,"sources":["../../src/utils.ts","../../src/usePopperTooltip.ts"],"names":["useGetLatest","val","ref","React","useRef","current","useCallback","noop","useControlledState","initial","value","onChange","undefined","TypeError","state","setState","useState","getLatest","set","updater","updatedState","persist","isControlled","generateBoundingClientRect","x","y","width","height","top","right","bottom","left","toJSON","virtualElement","getBoundingClientRect","defaultConfig","closeOnOutsideClick","closeOnTriggerHidden","defaultVisible","delayHide","delayShow","followCursor","interactive","mutationObserverOptions","attributes","childList","subtree","offset","trigger","usePopperTooltip","config","popperOptions","finalConfig","Object","keys","reduce","key","defaultModifiers","useMemo","name","options","Array","isArray","finalPopperOptions","placement","modifiers","triggerRef","setTriggerRef","tooltipRef","setTooltipRef","visible","setVisible","onVisibleChange","timer","useEffect","clearTimeout","styles","popperProps","usePopper","update","isTriggeredBy","includes","hideTooltip","setTimeout","showTooltip","toggleTooltip","handleClickOutside","event","target","composedPath","Node","contains","document","addEventListener","removeEventListener","preventDefaultAndToggle","preventDefault","isReferenceHidden","modifiersData","hide","setMousePosition","clientX","clientY","observer","MutationObserver","observe","disconnect","getTooltipProps","args","style","popper","getArrowProps","arrow"],"mappings":"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","sourcesContent":["import * as React from 'react';\n\n// kudos to @tannerlinsley https://twitter.com/tannerlinsley\nexport function useGetLatest<T>(val: T) {\n  const ref = React.useRef<T>(val);\n  ref.current = val;\n  return React.useCallback(() => ref.current, []);\n}\n\nconst noop = () => {\n  // do nothing\n};\n\nexport function useControlledState<T>({\n  initial,\n  value,\n  onChange = noop,\n}: {\n  initial?: T;\n  value?: T;\n  onChange?: (state: T) => void;\n}): [T, (state: T) => void] {\n  if (initial === undefined && value === undefined) {\n    throw new TypeError(\n      'Either \"value\" or \"initial\" variable must be set. Now both are undefined'\n    );\n  }\n\n  const [state, setState] = React.useState(initial);\n\n  const getLatest = useGetLatest(state);\n\n  const set = React.useCallback(\n    (updater: T) => {\n      const state = getLatest();\n\n      const updatedState =\n        typeof updater === 'function' ? updater(state) : updater;\n\n      if (typeof updatedState.persist === 'function') updatedState.persist();\n\n      setState(updatedState);\n      if (typeof onChange === 'function') onChange(updatedState);\n    },\n    [getLatest, onChange]\n  );\n\n  const isControlled = value !== undefined;\n\n  return [isControlled ? value! : state!, isControlled ? onChange : set];\n}\n\nexport function generateBoundingClientRect(x = 0, y = 0): () => DOMRect {\n  return () => ({\n    width: 0,\n    height: 0,\n    top: y,\n    right: x,\n    bottom: y,\n    left: x,\n    x: 0,\n    y: 0,\n    toJSON: () => null,\n  });\n}\n","import * as React from 'react';\nimport type { VirtualElement } from '@popperjs/core';\nimport { usePopper } from 'react-popper';\nimport {\n  useControlledState,\n  useGetLatest,\n  generateBoundingClientRect,\n} from './utils';\nimport { Config, PopperOptions, PropsGetterArgs, TriggerType } from './types';\n\nconst virtualElement: VirtualElement = {\n  getBoundingClientRect: generateBoundingClientRect(),\n};\n\nconst defaultConfig: Config = {\n  closeOnOutsideClick: true,\n  closeOnTriggerHidden: false,\n  defaultVisible: false,\n  delayHide: 0,\n  delayShow: 0,\n  followCursor: false,\n  interactive: false,\n  mutationObserverOptions: {\n    attributes: true,\n    childList: true,\n    subtree: true,\n  },\n  offset: [0, 6],\n  trigger: 'hover',\n};\n\nexport function usePopperTooltip(\n  config: Config = {},\n  popperOptions: PopperOptions = {}\n) {\n  // Merging options with default options.\n  // Keys with undefined values are replaced with the default ones if any.\n  // Keys with other values pass through.\n  const finalConfig = (\n    Object.keys(defaultConfig) as Array<keyof typeof defaultConfig>\n  ).reduce(\n    (config, key) => ({\n      ...config,\n      [key]: config[key] !== undefined ? config[key] : defaultConfig[key],\n    }),\n    config\n  );\n\n  const defaultModifiers = React.useMemo(\n    () => [{ name: 'offset', options: { offset: finalConfig.offset } }],\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    Array.isArray(finalConfig.offset) ? finalConfig.offset : []\n  );\n\n  const finalPopperOptions = {\n    ...popperOptions,\n    placement: popperOptions.placement || finalConfig.placement,\n    modifiers: popperOptions.modifiers || defaultModifiers,\n  };\n\n  const [triggerRef, setTriggerRef] = React.useState<HTMLElement | null>(null);\n  const [tooltipRef, setTooltipRef] = React.useState<HTMLElement | null>(null);\n  const [visible, setVisible] = useControlledState({\n    initial: finalConfig.defaultVisible,\n    value: finalConfig.visible,\n    onChange: finalConfig.onVisibleChange,\n  });\n\n  const timer = React.useRef<number>();\n  React.useEffect(() => () => clearTimeout(timer.current), []);\n\n  const { styles, attributes, ...popperProps } = usePopper(\n    finalConfig.followCursor ? virtualElement : triggerRef,\n    tooltipRef,\n    finalPopperOptions\n  );\n\n  const update = popperProps.update;\n\n  const getLatest = useGetLatest({\n    visible,\n    triggerRef,\n    tooltipRef,\n    finalConfig,\n  });\n\n  const isTriggeredBy = React.useCallback(\n    (trigger: TriggerType) => {\n      return Array.isArray(finalConfig.trigger)\n        ? finalConfig.trigger.includes(trigger)\n        : finalConfig.trigger === trigger;\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    Array.isArray(finalConfig.trigger)\n      ? finalConfig.trigger\n      : [finalConfig.trigger]\n  );\n\n  const hideTooltip = React.useCallback(() => {\n    clearTimeout(timer.current);\n    timer.current = window.setTimeout(\n      () => setVisible(false),\n      finalConfig.delayHide\n    );\n  }, [finalConfig.delayHide, setVisible]);\n\n  const showTooltip = React.useCallback(() => {\n    clearTimeout(timer.current);\n    timer.current = window.setTimeout(\n      () => setVisible(true),\n      finalConfig.delayShow\n    );\n  }, [finalConfig.delayShow, setVisible]);\n\n  const toggleTooltip = React.useCallback(() => {\n    if (getLatest().visible) {\n      hideTooltip();\n    } else {\n      showTooltip();\n    }\n  }, [getLatest, hideTooltip, showTooltip]);\n\n  // Handle click outside\n  React.useEffect(() => {\n    if (!getLatest().finalConfig.closeOnOutsideClick) return;\n\n    const handleClickOutside: EventListener = (event) => {\n      const { tooltipRef, triggerRef } = getLatest();\n      const target = event.composedPath?.()?.[0] || event.target;\n      if (target instanceof Node) {\n        if (\n          tooltipRef != null &&\n          triggerRef != null &&\n          !tooltipRef.contains(target) &&\n          !triggerRef.contains(target)\n        ) {\n          hideTooltip();\n        }\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [getLatest, hideTooltip]);\n\n  // Trigger: click\n  React.useEffect(() => {\n    if (triggerRef == null || !isTriggeredBy('click')) return;\n\n    triggerRef.addEventListener('click', toggleTooltip);\n\n    return () => triggerRef.removeEventListener('click', toggleTooltip);\n  }, [triggerRef, isTriggeredBy, toggleTooltip]);\n\n  // Trigger: double-click\n  React.useEffect(() => {\n    if (triggerRef == null || !isTriggeredBy('double-click')) return;\n\n    triggerRef.addEventListener('dblclick', toggleTooltip);\n\n    return () => triggerRef.removeEventListener('dblclick', toggleTooltip);\n  }, [triggerRef, isTriggeredBy, toggleTooltip]);\n\n  // Trigger: right-click\n  React.useEffect(() => {\n    if (triggerRef == null || !isTriggeredBy('right-click')) return;\n\n    const preventDefaultAndToggle: EventListener = (event) => {\n      // Don't show the context menu\n      event.preventDefault();\n      toggleTooltip();\n    };\n\n    triggerRef.addEventListener('contextmenu', preventDefaultAndToggle);\n    return () =>\n      triggerRef.removeEventListener('contextmenu', preventDefaultAndToggle);\n  }, [triggerRef, isTriggeredBy, toggleTooltip]);\n\n  // Trigger: focus\n  React.useEffect(() => {\n    if (triggerRef == null || !isTriggeredBy('focus')) return;\n\n    triggerRef.addEventListener('focus', showTooltip);\n    triggerRef.addEventListener('blur', hideTooltip);\n    return () => {\n      triggerRef.removeEventListener('focus', showTooltip);\n      triggerRef.removeEventListener('blur', hideTooltip);\n    };\n  }, [triggerRef, isTriggeredBy, showTooltip, hideTooltip]);\n\n  // Trigger: hover on trigger\n  React.useEffect(() => {\n    if (triggerRef == null || !isTriggeredBy('hover')) return;\n\n    triggerRef.addEventListener('mouseenter', showTooltip);\n    triggerRef.addEventListener('mouseleave', hideTooltip);\n    return () => {\n      triggerRef.removeEventListener('mouseenter', showTooltip);\n      triggerRef.removeEventListener('mouseleave', hideTooltip);\n    };\n  }, [triggerRef, isTriggeredBy, showTooltip, hideTooltip]);\n\n  // Trigger: hover on tooltip, keep it open if hovered\n  React.useEffect(() => {\n    if (\n      tooltipRef == null ||\n      !isTriggeredBy('hover') ||\n      !getLatest().finalConfig.interactive\n    )\n      return;\n\n    tooltipRef.addEventListener('mouseenter', showTooltip);\n    tooltipRef.addEventListener('mouseleave', hideTooltip);\n    return () => {\n      tooltipRef.removeEventListener('mouseenter', showTooltip);\n      tooltipRef.removeEventListener('mouseleave', hideTooltip);\n    };\n  }, [tooltipRef, isTriggeredBy, showTooltip, hideTooltip, getLatest]);\n\n  // Handle closing tooltip if trigger hidden\n  const isReferenceHidden =\n    popperProps?.state?.modifiersData?.hide?.isReferenceHidden;\n  React.useEffect(() => {\n    if (finalConfig.closeOnTriggerHidden && isReferenceHidden) hideTooltip();\n  }, [finalConfig.closeOnTriggerHidden, hideTooltip, isReferenceHidden]);\n\n  // Handle follow cursor\n  React.useEffect(() => {\n    if (!finalConfig.followCursor || triggerRef == null) return;\n\n    function setMousePosition({\n      clientX,\n      clientY,\n    }: {\n      clientX: number;\n      clientY: number;\n    }) {\n      virtualElement.getBoundingClientRect = generateBoundingClientRect(\n        clientX,\n        clientY\n      );\n      update?.();\n    }\n\n    triggerRef.addEventListener('mousemove', setMousePosition);\n    return () => triggerRef.removeEventListener('mousemove', setMousePosition);\n  }, [finalConfig.followCursor, triggerRef, update]);\n\n  // Handle tooltip DOM mutation changes (aka mutation observer)\n  React.useEffect(() => {\n    if (\n      tooltipRef == null ||\n      update == null ||\n      finalConfig.mutationObserverOptions == null\n    )\n      return;\n\n    const observer = new MutationObserver(update);\n    observer.observe(tooltipRef, finalConfig.mutationObserverOptions);\n    return () => observer.disconnect();\n  }, [finalConfig.mutationObserverOptions, tooltipRef, update]);\n\n  // Tooltip props getter\n  const getTooltipProps = (args: PropsGetterArgs = {}) => {\n    return {\n      ...args,\n      style: {\n        ...args.style,\n        ...styles.popper,\n      } as React.CSSProperties,\n      ...attributes.popper,\n      'data-popper-interactive': finalConfig.interactive,\n    };\n  };\n\n  // Arrow props getter\n  const getArrowProps = (args: PropsGetterArgs = {}) => {\n    return {\n      ...args,\n      ...attributes.arrow,\n      style: {\n        ...args.style,\n        ...styles.arrow,\n      } as React.CSSProperties,\n      'data-popper-arrow': true,\n    };\n  };\n\n  return {\n    getArrowProps,\n    getTooltipProps,\n    setTooltipRef,\n    setTriggerRef,\n    tooltipRef,\n    triggerRef,\n    visible,\n    ...popperProps,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}